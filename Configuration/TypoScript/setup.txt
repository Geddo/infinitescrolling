page.includeJSFooter {
  jQueryForInfiniteScrolling = //ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js
  jQueryForInfiniteScrolling.external = 1
  jQueryForInfiniteScrolling.excludeFromConcatenation = 1
  jQueryForInfiniteScrolling.disableCompression = 1
  jQueryForInfiniteScrolling.if.isTrue = {$plugin.tx_infinitescrolling.includeJQueryLibrary}

  infiniteScrolling_callback = typo3conf/ext/infinitescrolling/Resources/Public/JavaScript/Ias/callback.js
  infiniteScrolling_ias = typo3conf/ext/infinitescrolling/Resources/Public/JavaScript/Ias/jquery-ias.js
  infiniteScrolling_spinner = typo3conf/ext/infinitescrolling/Resources/Public/JavaScript/Ias/Extension/Spinner.js
  infiniteScrolling_paging = typo3conf/ext/infinitescrolling/Resources/Public/JavaScript/Ias/Extension/Paging.js
  infiniteScrolling_history = typo3conf/ext/infinitescrolling/Resources/Public/JavaScript/Ias/Extension/History.js
}

page.jsFooterInline {
  10 = LOAD_REGISTER
  10.iasTriggerLinkText = {$plugin.tx_infinitescrolling.trigger}
  10.iasTriggerLinkText.lang.de = {$plugin.tx_infinitescrolling.trigger}

  20 = TEXT
  20.cObject = COA
  20.cObject {
    10 = TEXT
    10.value = container: "{$plugin.tx_infinitescrolling.container}",
    20 = TEXT
    20.value = scrollContainer: {$plugin.tx_infinitescrolling.scrollContainer},
    30 = TEXT
    30.value = item: "{$plugin.tx_infinitescrolling.item}",
    40 = TEXT
    40.value = pagination: "{$plugin.tx_infinitescrolling.pagination}",
    50 = TEXT
    50.value = next: "{$plugin.tx_infinitescrolling.next}",
    80 = TEXT
    80.value = delay: {$plugin.tx_infinitescrolling.delay},
    90 = TEXT
    90.value = negativeMargin: {$plugin.tx_infinitescrolling.negativeMargin},
  }
  20.wrap (
    jQuery(function() {
      var ias = jQuery.ias({|});
      ias.extension(new IASSpinnerExtension({
        html: '{$plugin.tx_infinitescrolling.loader}'
      }));
      ias.extension(new IASPagingExtension());
      ias.extension(new IASHistoryExtension());
    });
  )

  30 = RESTORE_REGISTER
}
